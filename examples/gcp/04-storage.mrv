#lang marv

import types/gcp/storage as gcp

import types/marv/base
import types/marv/enhancers

type label-resource = {
    identity(cfg) = cfg <- { labels = cfg.labels <- { project = cfg.project, cost-ctr = "aabc"  }}
    * = lifecycle.*
}

type bucket = E1<gcp:bucket, label-resource>

module main {

    my-bucket = bucket {
        name = strf("~a-mybucket" bucket.project())
        # storageClass = "NEARLINE"
    }
    
}
